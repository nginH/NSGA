<!DOCTYPE html>
<html>
<head>
    <title>NSGA Visualization</title>
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .controls { margin: 20px 0; }
        button { padding: 10px; margin-right: 10px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Fast Non-dominated Sorting - 3D Visualization</h1>
    <div class='controls'>
        <button id='btnAllSolutions'>Show All Solutions</button>
        <button id='btnParetoOnly'>Show Pareto-Optimal Only</button>
        <button id='btnToggleSurface'>Toggle Pareto Surface</button>
    </div>
    <div id='plot' style='width:900px;height:700px;'></div>
    <script>
        // Data arrays
        var x_rank0 = [0.224606, 0.384196, 0.780053, 1.229004, 1.666224, 1.974802, 2.283328, 2.571598, 3.005141, 3.462116, 4.003647, 4.262187, 4.830915, 5.359062, 5.747531, 5.973979, 6.519171, 6.940586, 7.039672, 7.721895, 7.750129, 8.394637, 8.973478, 8.996965, 9.631583];
        var y_rank0 = [9.957372, 9.486318, 9.448294, 8.770498, 8.434976, 7.990813, 7.685449, 7.439925, 6.803419, 6.483439, 5.792272, 5.376683, 5.288454, 4.661412, 4.453316, 4.171832, 3.502971, 3.024787, 2.664451, 2.590209, 1.916038, 1.472058, 1.352190, 0.898441, 0.215107];
        var z_rank0 = [0.047797, 0.481135, 1.327395, 2.007565, 2.243677, 3.041323, 3.571719, 3.780239, 4.186673, 4.388366, 4.962542, 5.118768, 5.142050, 5.235517, 4.994351, 4.742848, 4.753545, 4.421942, 3.673040, 3.262915, 2.784488, 2.586438, 1.696946, 1.235307, 0.631865];
        var x_rank1 = [3.034027, 3.521477, 3.965696, 4.424166, 4.811380, 5.305961, 5.339315, 5.964433, 6.063685, 6.755651, 7.174620, 7.729037, 8.101126, 8.269595, 8.764426, 9.079303, 9.642142, 9.717359, 10.180388, 10.622664, 10.910704, 11.269443, 11.952561, 12.540512, 12.767186];
        var y_rank1 = [13.099321, 12.465531, 12.247222, 11.563168, 11.263262, 10.981681, 10.361394, 10.017780, 9.452506, 9.121155, 9.038966, 8.431415, 7.921503, 7.679162, 7.106513, 7.042890, 6.477097, 5.952267, 5.878868, 5.512538, 4.908528, 4.535157, 3.988037, 3.492633, 3.491611];
        var z_rank1 = [3.145893, 3.968068, 4.247276, 4.756823, 5.589752, 5.879600, 6.492129, 7.081254, 7.170790, 7.739123, 7.906298, 7.731815, 7.992453, 7.755258, 7.937332, 7.751792, 7.527064, 7.188003, 6.980966, 6.427109, 5.633186, 5.152763, 4.936321, 3.881504, 3.376472];
        var x_rank2 = [6.385337, 6.676404, 7.002684, 7.423256, 7.554753, 8.035918, 8.852151, 9.316937, 9.914272, 10.200562, 10.624189, 11.197982, 11.606305, 11.825470, 12.405589, 12.767636, 13.362439, 13.875178, 14.324139, 14.376913, 14.935530, 15.434694, 15.906097];
        var y_rank2 = [15.760497, 15.523223, 15.107864, 14.456834, 14.331442, 13.574080, 13.108157, 12.554234, 12.266725, 11.753693, 11.448122, 10.977654, 10.460324, 10.276910, 9.632208, 9.156314, 8.806290, 8.223389, 7.696815, 7.476577, 6.954999, 6.699934, 6.375752];
        var z_rank2 = [6.393717, 6.945298, 7.419497, 7.944042, 8.829062, 9.157921, 9.840352, 10.189316, 10.598804, 11.053155, 10.741381, 10.929395, 10.924975, 10.968657, 10.567054, 10.217896, 9.758491, 9.294122, 8.442277, 8.152199, 7.713198, 7.026498, 6.177570];
        var x_rank3 = [8.609326, 12.814298, 17.931229, 18.550051, 18.713795];
        var y_rank3 = [13.647418, 9.612721, 9.859846, 9.711139, 9.053138];
        var z_rank3 = [9.493964, 10.583317, 10.524401, 9.887629, 9.050802];
        var x_rank4 = [9.133098, 9.536354, 10.005078, 10.371505, 10.696271, 11.443182, 11.536562, 12.056696, 12.732053, 12.956399, 13.227664, 13.474667, 14.173336, 14.267874, 14.813651, 15.428395, 15.513971, 16.264326, 16.372350, 16.765573, 17.128709, 17.594045];
        var y_rank4 = [18.578778, 18.399171, 18.053009, 17.388198, 17.022163, 16.666998, 16.397202, 16.093433, 15.620887, 14.993884, 14.947712, 14.134427, 13.961846, 13.666037, 13.340420, 12.636122, 12.209827, 11.730627, 11.590933, 11.279314, 10.814348, 10.512316];
        var z_rank4 = [9.590093, 9.854331, 10.819719, 11.205601, 11.603063, 12.135260, 12.920500, 13.169725, 13.209681, 13.721050, 13.673813, 14.199275, 13.945823, 14.023937, 14.033800, 13.491920, 13.266512, 12.801032, 12.344161, 12.294715, 11.384674, 10.878980];
        // Create traces for each rank
        var allTraces = [];
        var paretoTrace = {
            x: x_rank0,
            y: y_rank0,
            z: z_rank0,
            mode: 'markers',
            type: 'scatter3d',
            marker: {
                size: 8,
                color: 'rgb(255,0,0)',
                line: { color: 'rgb(0,0,0)', width: 1 }
            },
            name: 'Pareto-Optimal (Rank 0)'
        };
        allTraces.push(paretoTrace);
        var trace_rank1 = {
            x: x_rank1,
            y: y_rank1,
            z: z_rank1,
            mode: 'markers',
            type: 'scatter3d',
            marker: {
                size: 5,
                color: 'rgb(0,255,0)',
                opacity: 0.7
            },
            name: 'Rank 1'
        };
        allTraces.push(trace_rank1);
        var trace_rank2 = {
            x: x_rank2,
            y: y_rank2,
            z: z_rank2,
            mode: 'markers',
            type: 'scatter3d',
            marker: {
                size: 5,
                color: 'rgb(0,0,255)',
                opacity: 0.7
            },
            name: 'Rank 2'
        };
        allTraces.push(trace_rank2);
        var trace_rank3 = {
            x: x_rank3,
            y: y_rank3,
            z: z_rank3,
            mode: 'markers',
            type: 'scatter3d',
            marker: {
                size: 5,
                color: 'rgb(255,255,0)',
                opacity: 0.7
            },
            name: 'Rank 3'
        };
        allTraces.push(trace_rank3);
        var trace_rank4 = {
            x: x_rank4,
            y: y_rank4,
            z: z_rank4,
            mode: 'markers',
            type: 'scatter3d',
            marker: {
                size: 5,
                color: 'rgb(255,0,255)',
                opacity: 0.7
            },
            name: 'Rank 4'
        };
        allTraces.push(trace_rank4);
        // Create Pareto surface
        var surfaceTrace = {
            x: x_rank0,
            y: y_rank0,
            z: z_rank0,
            type: 'mesh3d',
            opacity: 0.7,
            color: 'rgb(255,0,0)',
            name: 'Pareto Surface',
            visible: false
        };
        
        // Create Pareto front line trace
        var lineTrace = {
            x: x_rank0,
            y: y_rank0,
            z: z_rank0,
            type: 'scatter3d',
            mode: 'lines',
            line: {
                color: 'rgb(255,0,0)',
                width: 4
            },
            name: 'Pareto Front'
        };
        allTraces.push(lineTrace);
        allTraces.push(surfaceTrace);
        var layout = {
            title: '3D Visualization of Solutions with Pareto Front',
            scene: {
                xaxis: {title: 'Objective 1'},
                yaxis: {title: 'Objective 2'},
                zaxis: {title: 'Objective 3'}
            },
            margin: {l: 0, r: 0, b: 0, t: 30},
            legend: {x: 0, y: 1}
        };
        Plotly.newPlot('plot', allTraces, layout);
        // Button event handlers
        document.getElementById('btnAllSolutions').addEventListener('click', function() {
            Plotly.newPlot('plot', allTraces, layout);
        });
        document.getElementById('btnParetoOnly').addEventListener('click', function() {
            var paretoTraces = allTraces.filter(trace => 
                trace.name === 'Pareto-Optimal (Rank 0)' || 
                trace.name === 'Pareto Front');
            Plotly.newPlot('plot', paretoTraces, layout);
        });
        document.getElementById('btnToggleSurface').addEventListener('click', function() {
            surfaceTrace.visible = !surfaceTrace.visible;
            Plotly.update('plot', {visible: [surfaceTrace.visible]}, {}, [allTraces.length - 1]);
        });
    </script>
</body>
</html>
